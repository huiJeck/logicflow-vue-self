(function(t){function e(e){for(var o,r,l=e[0],s=e[1],c=e[2],u=0,p=[];u<l.length;u++)r=l[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(o=!1)}o&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},a={app:0},i=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=s;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0a87":function(t,e,n){"use strict";n("d924")},2222:function(t,e,n){},"2f6f":function(t,e,n){"use strict";n("2222")},4547:function(t,e,n){"use strict";n("8d09")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],r={name:"App"},l=r,s=n("2877"),c=Object(s["a"])(l,a,i,!1,null,null,null),d=c.exports,u=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logic-flow-view"},[n("h3",{staticClass:"demo-title"},[t._v("LogicFlow Vue demo")]),t.lf?n("Control",{staticClass:"demo-control",attrs:{lf:t.lf},on:{catData:t.$_catData}}):t._e(),t.lf?n("NodePanel",{attrs:{lf:t.lf,nodeList:t.nodeList}}):t._e(),n("div",{attrs:{id:"LF-view"}}),t.showAddPanel?n("AddPanel",{staticClass:"add-panel",style:t.addPanelStyle,attrs:{lf:t.lf,nodeData:t.addClickNode},on:{addNodeFinish:t.hideAddPanel}}):t._e(),n("el-drawer",{attrs:{title:"设置节点属性",visible:t.dialogVisible,direction:"rtl",size:"500px","before-close":t.closeDialog},on:{"update:visible":function(e){t.dialogVisible=e}}},[t.dialogVisible?n("PropertyDialog",{attrs:{nodeData:t.clickNode,lf:t.lf},on:{setPropertiesFinish:t.closeDialog}}):t._e()],1),n("el-dialog",{attrs:{title:"数据",visible:t.dataVisible,width:"50%"},on:{"update:visible":function(e){t.dataVisible=e}}},[n("DataDialog",{attrs:{graphData:t.graphData}})],1),n("h4",[t._v("更多示例： "),n("el-button",{attrs:{type:"text"},on:{click:t.goto}},[t._v("BpmnElement & TurboAdpter")])],1)],1)},f=[],h=(n("99af"),n("5530")),b=n("5e90"),m=n.n(b),g=n("eb21"),v=(n("7692"),n("417c"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"node-panel"},t._l(t.nodeList,(function(e){return n("div",{key:e.text,staticClass:"node-item",on:{mousedown:function(n){return t.$_dragNode(e)}}},[n("div",{staticClass:"node-item-icon",class:e.class},["user"===e.type||"time"===e.type?n("div",{staticClass:"shape"}):t._e()]),n("span",{staticClass:"node-label"},[t._v(t._s(e.text))])])})),0)}),y=[],x={name:"NodePanel",props:{lf:Object,nodeList:Array},methods:{$_dragNode:function(t){this.$props.lf.dnd.startDrag({type:t.type})}}},_=x,k=(n("0a87"),Object(s["a"])(_,v,y,!1,null,null,null)),$=k.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tabs",{attrs:{"tab-position":"left"}},[n("el-tab-pane",{attrs:{label:"添加动作"}},t._l(t.nodeList,(function(e){return n("div",{key:e.type},[n("el-button",{staticClass:"add-node-btn",attrs:{type:"primary",size:"mini"},on:{click:function(n){return t.$_addNode(e)}}},[t._v(t._s(e.label))])],1)})),0),n("el-tab-pane",{attrs:{label:"添加组"}},[n("el-button",{staticClass:"add-node-btn",attrs:{type:"primary",size:"mini"},on:{click:t.$_addTempalte}},[t._v("模板")])],1)],1)},j=[],D={name:"AddPanel",props:{nodeData:Object,lf:Object||String},data:function(){return{nodeList:[{type:"user",label:"用户"},{type:"push",label:"推送"}]}},methods:{$_addNode:function(t){var e=this.$props,n=e.lf,o=e.nodeData,a=o.id,i=o.x,r=o.y,l=n.addNode({type:t.type,x:i+150,y:r+150}),s=l.id;n.createEdge({sourceNodeId:a,targetNodeId:s}),this.$emit("addNodeFinish")},$_addTempalte:function(){var t=this.$props,e=t.lf,n=t.nodeData,o=n.id,a=n.x,i=n.y,r=e.addNode({type:"download",x:a,y:i+150}),l=e.addNode({type:"user",x:a+150,y:i+150}),s=e.addNode({type:"push",x:a+150,y:i+300,properties:{}}),c=e.addNode({type:"end",x:a+300,y:i+150}),d=e.addNode({type:"end",x:a+300,y:i+300});e.createEdge({sourceNodeId:o,targetNodeId:r.id}),e.createEdge({sourceNodeId:r.id,targetNodeId:l.id}),e.createEdge({sourceNodeId:l.id,targetNodeId:c.id,endPoint:{x:a+280,y:i+150},text:{value:"Y",x:a+230,y:i+140}}),e.createEdge({sourceNodeId:l.id,targetNodeId:s.id,text:{value:"N",x:a+160,y:i+230}}),e.createEdge({sourceNodeId:s.id,targetNodeId:d.id,endPoint:{x:a+280,y:i+300}}),this.$emit("addNodeFinish")}}},O=D,N=(n("6957"),Object(s["a"])(O,w,j,!1,null,"3acbf108",null)),P=N.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button-group",[n("el-button",{attrs:{type:"plain",size:"small"},on:{click:t.$_zoomIn}},[t._v("放大")]),n("el-button",{attrs:{type:"plain",size:"small"},on:{click:t.$_zoomOut}},[t._v("缩小")]),n("el-button",{attrs:{type:"plain",size:"small"},on:{click:t.$_zoomReset}},[t._v("大小适应")]),n("el-button",{attrs:{type:"plain",size:"small"},on:{click:t.$_translateRest}},[t._v("定位还原")]),n("el-button",{attrs:{type:"plain",size:"small"},on:{click:t.$_reset}},[t._v("还原(大小&定位)")]),n("el-button",{attrs:{type:"plain",size:"small",disabled:t.undoDisable},on:{click:t.$_undo}},[t._v("上一步(ctrl+z)")]),n("el-button",{attrs:{type:"plain",size:"small",disabled:t.redoDisable},on:{click:t.$_redo}},[t._v("下一步(ctrl+y)")]),n("el-button",{attrs:{type:"plain",size:"small"},on:{click:t.$_download}},[t._v("下载图片")]),n("el-button",{attrs:{type:"plain",size:"small"},on:{click:t.$_catData}},[t._v("查看数据")]),t.catTurboData?n("el-button",{attrs:{type:"plain",size:"small"},on:{click:t.$_catTurboData}},[t._v("查看turbo数据")]):t._e()],1)],1)},S=[],C={name:"Control",props:{lf:Object||String,catTurboData:Boolean},data:function(){return{undoDisable:!0,redoDisable:!0,graphData:null,dataVisible:!1}},mounted:function(){var t=this;this.$props.lf.on("history:change",(function(e){var n=e.data,o=n.undoAble,a=n.redoAble;t.$data.undoDisable=!o,t.$data.redoDisable=!a}))},methods:{$_zoomIn:function(){this.$props.lf.zoom(!0)},$_zoomOut:function(){this.$props.lf.zoom(!1)},$_zoomReset:function(){this.$props.lf.resetZoom()},$_translateRest:function(){this.$props.lf.resetTranslate()},$_reset:function(){this.$props.lf.resetZoom(),this.$props.lf.resetTranslate()},$_undo:function(){this.$props.lf.undo()},$_redo:function(){this.$props.lf.redo()},$_download:function(){this.$props.lf.getSnapshot()},$_catData:function(){this.$emit("catData")},$_catTurboData:function(){this.$emit("catTurboData")}}},M=C,T=Object(s["a"])(M,E,S,!1,null,"6a773de0",null),L=T.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"property-dialog"},["user"===t.nodeData.type?n("User",{attrs:{nodeData:t.nodeData,lf:t.lf},on:{onClose:t.handleClose}}):n("CommonProperty",{attrs:{nodeData:t.nodeData,lf:t.lf},on:{onClose:t.handleClose}})],1)},I=[],B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-form",{attrs:{"label-width":"80px",model:t.formData}},[n("el-form-item",{attrs:{label:"文案"}},[n("el-input",{model:{value:t.formData.text,callback:function(e){t.$set(t.formData,"text",e)},expression:"formData.text"}})],1),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),n("el-form-item",{attrs:{label:"活动区域"}},[n("el-input",{model:{value:t.formData.region,callback:function(e){t.$set(t.formData,"region",e)},expression:"formData.region"}})],1),n("el-form-item",{attrs:{label:"活动形式"}},[n("el-input",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}})],1),n("el-form-item",{attrs:{label:"A"}},[n("el-input",{model:{value:t.formData.a.a1,callback:function(e){t.$set(t.formData.a,"a1",e)},expression:"formData.a.a1"}}),n("el-input",{model:{value:t.formData.a.a2,callback:function(e){t.$set(t.formData.a,"a2",e)},expression:"formData.a.a2"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)],1)},F=[],z={name:"",props:{nodeData:Object,lf:Object||String},mounted:function(){var t=this.$props.nodeData,e=t.properties,n=t.text;e&&(this.$data.formData=Object.assign({},this.$data.formData,e)),n&&n.value&&(this.$data.formData.text=n.value),n&&n.value&&(this.$data.text=n.value)},data:function(){return{text:"",formData:{text:"",name:"",region:"",type:"",a:{a1:"",a2:""}}}},methods:{onSubmit:function(){var t=this.$props.nodeData.id;this.$props.lf.setProperties(t,Object(h["a"])({},this.$data.formData)),console.log(6666,this.$data.formData),this.$props.lf.updateText(t,this.$data.formData.text),this.$emit("onClose")}}},V=z,W=Object(s["a"])(V,B,F,!1,null,"4c336fce",null),R=W.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"活动名称"}},[n("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"活动区域"}},[n("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:t.form.region,callback:function(e){t.$set(t.form,"region",e)},expression:"form.region"}},[n("el-option",{attrs:{label:"区域一",value:"shanghai"}}),n("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),n("el-form-item",{attrs:{label:"活动时间"}},[n("el-col",{attrs:{span:11}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.date1,callback:function(e){t.$set(t.form,"date1",e)},expression:"form.date1"}})],1),n("el-col",{staticClass:"line",attrs:{span:2}},[t._v("-")]),n("el-col",{attrs:{span:11}},[n("el-time-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"选择时间"},model:{value:t.form.date2,callback:function(e){t.$set(t.form,"date2",e)},expression:"form.date2"}})],1)],1),n("el-form-item",{attrs:{label:"即时配送"}},[n("el-switch",{model:{value:t.form.delivery,callback:function(e){t.$set(t.form,"delivery",e)},expression:"form.delivery"}})],1),n("el-form-item",{attrs:{label:"活动性质"}},[n("el-checkbox-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[n("el-checkbox",{attrs:{label:"美食/餐厅线上活动",name:"type"}}),n("el-checkbox",{attrs:{label:"地推活动",name:"type"}}),n("el-checkbox",{attrs:{label:"线下主题活动",name:"type"}}),n("el-checkbox",{attrs:{label:"单纯品牌曝光",name:"type"}})],1)],1),n("el-form-item",{attrs:{label:"特殊资源"}},[n("el-radio-group",{model:{value:t.form.resource,callback:function(e){t.$set(t.form,"resource",e)},expression:"form.resource"}},[n("el-radio",{attrs:{label:"线上品牌商赞助"}}),n("el-radio",{attrs:{label:"线下场地免费"}})],1)],1),n("el-form-item",{attrs:{label:"活动形式"}},[n("el-input",{attrs:{type:"textarea"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)],1)},U=[],G={name:"",props:{nodeData:Object,lf:Object||String},mounted:function(){var t=this.$props.nodeData.properties;t&&(this.$data.form=Object.assign({},this.$data.form,t))},data:function(){return{form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}},methods:{onSubmit:function(){console.log("submit!");var t=this.$props.nodeData;t.properties=this.$data.form,console.log(t),this.$props.lf.setNodeData(t),this.$emit("onClose")}}},q=G,K=Object(s["a"])(q,H,U,!1,null,"02ce2e39",null),J=K.exports,Z={name:"PropertyDialog",components:{CommonProperty:R,User:J},props:{nodeData:Object,lf:Object},data:function(){return{}},methods:{handleClose:function(){this.$emit("setPropertiesFinish")}}},X=Z,Y=(n("e130"),Object(s["a"])(X,A,I,!1,null,null,null)),Q=Y.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("vue-json-pretty",{attrs:{path:"res",data:t.graphData}})],1)},et=[],nt=n("838b"),ot=n.n(nt),at=(n("b83f"),{props:{graphData:String},components:{VueJsonPretty:ot.a}}),it=at,rt=Object(s["a"])(it,tt,et,!1,null,"cf57acd0",null),lt=rt.exports,st=[{text:"开始",type:"start",class:"node-start"},{text:"矩形",type:"rect",class:"node-rect"},{type:"user",text:"用户",class:"node-user"},{type:"push",text:"推送",class:"node-push"},{type:"download",text:"位置",class:"node-download"},{type:"connect",text:"Html",class:"node-push"},{type:"end",text:"结束",class:"node-end"}],ct=[{type:"bpmn:startEvent",text:"开始",class:"bpmn-start"},{type:"bpmn:endEvent",text:"结束",class:"bpmn-end"},{type:"bpmn:exclusiveGateway",text:"网关",class:"bpmn-exclusiveGateway"},{type:"bpmn:userTask",text:"用户",class:"bpmn-user"}],dt=(n("cb29"),n("45eb")),ut=n("7e84"),pt=n("d4ec"),ft=n("bee2"),ht=n("262e"),bt=n("2caf");function mt(t){t.register("start",(function(t){var e=t.CircleNode,n=t.CircleNodeModel,o=t.h,a=function(t){Object(ht["a"])(n,t);var e=Object(bt["a"])(n);function n(){return Object(pt["a"])(this,n),e.apply(this,arguments)}return Object(ft["a"])(n,[{key:"getLabelShape",value:function(){var t=this.getAttributes(),e=t.x,n=t.y;return o("text",{fill:"#000000",fontSize:12,x:e-12,y:n+4,width:50,height:25},"Start")}},{key:"getShape",value:function(){var t=this.getAttributes(),e=t.x,n=t.y,a=t.r,i=t.fill,r=t.stroke,l=t.strokeWidth;return o("g",{},[o("circle",{cx:e,cy:n,r:a,fill:i,stroke:r,strokeWidth:l}),this.getLabelShape()])}}]),n}(e),i=function(t){Object(ht["a"])(n,t);var e=Object(bt["a"])(n);function n(t,o){return Object(pt["a"])(this,n),t.text={value:t.text&&t.text.value||"",x:t.x,y:t.y+35,dragable:!1,editable:!0},e.call(this,t,o)}return Object(ft["a"])(n,[{key:"getConnectedTargetRules",value:function(){var t=Object(dt["a"])(Object(ut["a"])(n.prototype),"getConnectedTargetRules",this).call(this),e={message:"起始节点不能作为连线的终点",validate:function(){return!1}};return t.push(e),t}}]),n}(n);return{view:a,model:i}}))}n("a15b"),n("d81d");function gt(t){t.register("user",(function(e){var n=e.PolygonNode,o=e.PolygonNodeModel,a=e.h,i=function(t){Object(ht["a"])(n,t);var e=Object(bt["a"])(n);function n(){return Object(pt["a"])(this,n),e.apply(this,arguments)}return Object(ft["a"])(n,[{key:"getIconShape",value:function(){var t=this.getAttributes(),e=t.stroke;return a("svg",{x:20,y:18,width:30,height:30,viewBox:"0 0 1126 1024"},a("path",{fill:e,d:"M792.576 379.392a25.6 25.6 0 0 0 25.2928 25.8048h283.2384A25.6 25.6 0 0 0 1126.4 379.392a25.6 25.6 0 0 0-25.2928-25.8048h-283.2384a25.6 25.6 0 0 0-25.344 25.8048z m303.9232 80.7424H761.856c-16.5376 0-29.9008 11.6224-29.9008 25.7536 0 14.1824 13.312 25.7536 29.9008 25.7536h334.6432c16.4864 0 29.9008-11.5712 29.9008-25.7536 0-14.1312-13.4144-25.7536-29.9008-25.7536z m4.608 106.496h-283.2384a25.6 25.6 0 0 0-25.344 25.7536 25.6 25.6 0 0 0 25.344 25.7536h283.2384A25.6 25.6 0 0 0 1126.4 592.384a25.6 25.6 0 0 0-25.2928-25.8048zM543.0272 1024H341.6576C150.8352 1024 0 1024 0 923.648v-20.1216c0-188.16 153.2928-341.1968 341.7088-341.1968h201.2672c188.416 0 341.76 153.0368 341.76 341.1968v20.0704C884.6848 1024 726.3232 1024 542.976 1024z m-203.1616-405.1456c-158.464 0-287.4368 128.4096-287.4368 286.208v20.48c0 40.9088 166.0928 40.9088 287.4368 40.9088h204.9536c100.4544 0 287.4368 0 287.4368-40.96v-20.3776c0-157.8496-128.9728-286.208-287.4368-286.208H339.8656z m92.416-76.7488a271.4112 271.4112 0 0 1-271.2064-271.0528A271.36 271.36 0 0 1 432.2816 0a271.36 271.36 0 0 1 271.2064 271.0528 271.4624 271.4624 0 0 1-271.2064 271.0528z m-215.3472-271.872c0 118.1696 96.6144 214.3232 215.3472 214.3232 118.784 0 215.3984-96.1536 215.3984-214.3232 0-118.2208-96.6144-214.3232-215.3984-214.3232S216.9344 152.0128 216.9344 270.2336z"}))}},{key:"getShape",value:function(){var t=this.getAttributes(),e=t.width,n=t.height,o=t.x,i=t.y,r=t.fill,l=t.fillOpacity,s=t.strokeWidth,c=t.stroke,d=t.strokeOpacity,u=t.points,p="matrix(1 0 0 1 ".concat(o-e/2," ").concat(i-n/2,")"),f=u.map((function(t){return t.join(",")})).join(" ");return a("g",{transform:p},[a("polygon",{points:f,fill:r,stroke:c,strokeWidth:s,strokeOpacity:d,fillOpacity:l}),this.getIconShape()])}}]),n}(n),r=function(e){Object(ht["a"])(o,e);var n=Object(bt["a"])(o);function o(e,a){var i;Object(pt["a"])(this,o),e.text={value:e.text&&e.text.value||"",x:e.x,y:e.y+50},i=n.call(this,e,a);var r=35;return i.points=[[r,0],[2*r,r],[r,2*r],[0,r]],i.menu=[{className:"lf-menu-delete",text:"delete",callback:function(e){t.deleteNode(e.id)}},{text:"edit",className:"lf-menu-item",callback:function(e){t.editNodeText(e.id)}},{text:"copy",className:"lf-menu-item",callback:function(e){t.cloneNode(e.id)}}],i}return o}(o);return{view:i,model:r}}))}function vt(t){t.register("end",(function(t){var e=t.CircleNode,n=t.CircleNodeModel,o=t.h,a=function(t){Object(ht["a"])(n,t);var e=Object(bt["a"])(n);function n(){return Object(pt["a"])(this,n),e.apply(this,arguments)}return Object(ft["a"])(n,[{key:"getIconShape",value:function(){var t=this.getAttributes(),e=t.x,n=t.y,a=t.width,i=t.height,r="#404040";return o("svg",{x:e-a/2,y:n-i/2,width:40,height:40,viewBox:"0 0 1024 1024"},o("path",{fill:r,d:"M212.992 526.336 212.992 526.336 212.992 526.336 215.04 526.336 212.992 526.336Z"}),o("path",{fill:r,d:"M724.992 296.96 724.992 296.96 296.96 296.96 296.96 724.992 724.992 724.992 724.992 296.96Z"}))}},{key:"getShape",value:function(){var t=this.getAttributes(),e=t.x,n=t.y,a=t.r,i=t.fill,r=t.stroke,l=t.strokeWidth;return o("g",{},[o("circle",{cx:e,cy:n,r:a,fill:i,stroke:r,strokeWidth:l}),this.getIconShape()])}}]),n}(e),i=function(t){Object(ht["a"])(n,t);var e=Object(bt["a"])(n);function n(t,o){return Object(pt["a"])(this,n),t.text={value:t.text&&t.text.value||"",x:t.x,y:t.y+35},e.call(this,t,o)}return Object(ft["a"])(n,[{key:"getConnectedSourceRules",value:function(){var t=Object(dt["a"])(Object(ut["a"])(n.prototype),"getConnectedSourceRules",this).call(this),e={message:"终止节点不能作为连线的起点",validate:function(){return!1}};return t.push(e),t}}]),n}(n);return{view:a,model:i}}))}function yt(t,e,n){t.register("push",(function(o){var a=o.PolygonNode,i=o.PolygonNodeModel,r=o.h,l=function(o){Object(ht["a"])(i,o);var a=Object(bt["a"])(i);function i(){return Object(pt["a"])(this,i),a.apply(this,arguments)}return Object(ft["a"])(i,[{key:"getIconShape",value:function(){var t=this.getAttributes(),e=t.stroke;return r("svg",{x:18,y:18,width:30,height:30,viewBox:"0 0 1024 1024"},r("path",{fill:e,d:"M866.461538 39.384615H393.846154c-43.323077 0-78.769231 35.446154-78.769231 78.769231v1.969231c0 13.784615 7.876923 27.569231 19.692308 35.446154 5.907692 3.938462 80.738462 78.769231 80.738461 78.769231 5.907692 5.907692 15.753846 0 15.753846-7.876924 0-15.753846 13.784615-31.507692 29.538462-31.507692h334.769231c15.753846 0 31.507692 15.753846 31.507692 31.507692v531.692308c0 15.753846-15.753846 27.569231-31.507692 27.569231h-334.769231c-15.753846 0-27.569231-11.815385-27.569231-27.569231v-1.969231c0-7.876923-9.846154-11.815385-15.753846-5.907692 0 0-74.830769 74.830769-82.707692 78.769231-11.815385 7.876923-19.692308 19.692308-19.692308 35.446154v39.384615c0 43.323077 33.476923 78.769231 76.8 78.769231h472.615385c43.323077 0 80.738462-35.446154 80.738461-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231zM630.153846 945.230769c-33.476923 0-59.076923-25.6-59.076923-59.076923s25.6-59.076923 59.076923-59.076923 59.076923 25.6 59.076923 59.076923-25.6 59.076923-59.076923 59.076923z m-86.646154-474.584615L297.353846 224.492308c-11.815385-11.815385-29.538462-11.815385-41.353846 0l-41.353846 41.353846c-11.815385 11.815385-11.815385 29.538462 0 41.353846l90.584615 90.584615c11.815385 11.815385 3.938462 33.476923-13.784615 33.476923H29.538462c-15.753846 1.969231-29.538462 15.753846-29.538462 31.507693v59.076923c0 15.753846 13.784615 29.538462 29.538462 29.538461h259.938461c17.723077 0 25.6 21.661538 13.784615 33.476923l-90.584615 90.584616c-11.815385 11.815385-11.815385 29.538462 0 41.353846l41.353846 41.353846c11.815385 11.815385 29.538462 11.815385 41.353846 0L543.507692 512c9.846154-9.846154 9.846154-29.538462 0-41.353846z"}))}},{key:"getPulsShape",value:function(){var o=this.getAttributes(),a=t.getGraphData(),i=a.edges,l=!1;if(i.some((function(t){if(t.sourceNodeId===o.id)return l=!0,!0})),!l)return r("svg",{x:70,y:20,width:30,height:30,viewBox:"0 0 1024 1024",class:"time-plus",onClick:function(t){return e(t,o)},onMousedown:function(t){return n(t,o)},onMouseUp:function(t){return n(t,o)}},r("path",{fill:"#f17611",d:"M512 512m-448 0a448 448 0 1 0 896 0 448 448 0 1 0-896 0Z"}),r("path",{fill:"#ffffff",d:"M448 298.666667h128v426.666666h-128z"}),r("path",{fill:"#ffffff",d:"M298.666667 448h426.666666v128H298.666667z"}))}},{key:"getShape",value:function(){var t=this.getAttributes(),e=t.width,n=t.height,o=t.x,a=t.y,i=t.fill,l=t.fillOpacity,s=t.strokeWidth,c=t.stroke,d=t.strokeOpacity,u=t.points,p="matrix(1 0 0 1 ".concat(o-e/2," ").concat(a-n/2,")"),f=u.map((function(t){return t.join(",")})).join(" ");return r("g",{transform:p},[r("polygon",{points:f,fill:i,stroke:c,strokeWidth:s,strokeOpacity:d,fillOpacity:l}),this.getIconShape(),this.getPulsShape()])}}]),i}(a),s=function(t){Object(ht["a"])(n,t);var e=Object(bt["a"])(n);function n(t,o){var a;Object(pt["a"])(this,n),t.text={value:t.text&&t.text.value||"",x:t.x,y:t.y+50},a=e.call(this,t,o);var i=35;return a.points=[[i,0],[2*i,i],[i,2*i],[0,i]],a}return n}(i);return{view:l,model:s}}))}var xt="#9932CC";function _t(t){t.register("download",(function(t){var e=t.PolygonNode,n=t.PolygonNodeModel,o=t.h,a=function(t){Object(ht["a"])(n,t);var e=Object(bt["a"])(n);function n(){return Object(pt["a"])(this,n),e.apply(this,arguments)}return Object(ft["a"])(n,[{key:"getIconShape",value:function(){return o("svg",{x:14,y:13,width:23,height:23,viewBox:"0 0 1024 1024"},o("path",{fill:xt,d:"M831.513034 319.863005h-95.945189c-17.662265 0-31.980365 14.3181-31.980365 31.980365 0 17.662265 14.3181 31.980365 31.980365 31.980366h64.218604c17.520025 0 31.722492 14.202467 31.722492 31.722492V863.786065c0 17.520025-14.202467 31.722492-31.722492 31.722492H159.66442c-17.520025 0-31.722492-14.202467-31.722493-31.722492V415.546228c0-17.520025 14.202467-31.722492 31.722493-31.722492h64.218603c17.662265 0 31.980365-14.3181 31.980366-31.980366 0-17.662265-14.3181-31.980365-31.980366-31.980365H127.937834c-35.322483 0-63.956637 28.634154-63.956637 63.956637v511.693008c0 35.322483 28.634154 63.956637 63.956637 63.956638h703.5752c35.322483 0 63.956637-28.634154 63.956638-63.956638V383.819642c0-35.32146-28.634154-63.956637-63.956638-63.956637z"}),o("path",{fill:xt,d:"M310.382073 521.036817c-12.388145-12.388145-32.473599-12.388145-44.862767 0l-0.364297 0.364297c-12.388145 12.388145-12.388145 32.473599 0 44.862767l190.186573 190.186574c5.818519 6.813173 14.465456 11.137665 24.126491 11.137664h0.515746c9.662057 0 18.307971-4.324492 24.12649-11.137664L694.296883 566.263881c12.388145-12.388145 12.388145-32.473599 0-44.862767l-0.364297-0.364297c-12.388145-12.388145-32.473599-12.388145-44.862767 0L511.706311 658.400325V95.743598c0-17.520025-14.202467-31.722492-31.722492-31.722492h-0.515746c-17.520025 0-31.722492 14.202467-31.722493 31.722492v562.656727L310.382073 521.036817z"}))}},{key:"getShape",value:function(){var t=this.getAttributes(),e=t.width,n=t.height,a=t.x,i=t.y,r=t.fill,l=t.fillOpacity,s=t.strokeWidth,c=t.stroke,d=t.strokeOpacity,u=t.points,p="matrix(1 0 0 1 ".concat(a-e/2," ").concat(i-n/2,")"),f=u.map((function(t){return t.join(",")})).join(" ");return o("g",{transform:p},[o("polygon",{points:f,fill:r,stroke:c,strokeWidth:s,strokeOpacity:d,fillOpacity:l}),this.getIconShape()])}}]),n}(e),i=function(t){Object(ht["a"])(n,t);var e=Object(bt["a"])(n);function n(t,o){var a;Object(pt["a"])(this,n),t.text={value:t.text&&t.text.value||"",x:t.x,y:t.y+50},a=e.call(this,t,o);var i=25;return a.points=[[i,0],[2*i,i],[i,2*i],[0,i]],a.stroke=xt,a}return n}(n);return{view:a,model:i}}))}function kt(t){t.register("polyline",(function(t){var e=t.PolylineEdge,n=t.PolylineEdgeModel,o=function(t){Object(ht["a"])(n,t);var e=Object(bt["a"])(n);function n(t,o){return Object(pt["a"])(this,n),e.call(this,t,o)}return n}(n);return{view:e,model:o}}))}function $t(t){t.register("task",(function(t){var e=t.RectNode,n=t.RectNodeModel,o=t.h,a=function(t){Object(ht["a"])(n,t);var e=Object(bt["a"])(n);function n(){return Object(pt["a"])(this,n),e.apply(this,arguments)}return Object(ft["a"])(n,[{key:"getShape",value:function(){var t=this.getShapeStyle();console.log(t);var e=t.width,n=t.height,a=this.getAttributes(),i=a.x,r=a.y,l={x:i-e/2,y:r-n/2};return o("rect",Object(h["a"])(Object(h["a"])({},t),l))}}]),n}(e),i=function(t){Object(ht["a"])(n,t);var e=Object(bt["a"])(n);function n(t,o){var a;return Object(pt["a"])(this,n),a=e.call(this,t,o),a.radius=20,a}return n}(n);return{view:a,model:i}}))}n("b0c0");var wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"connect"},[n("p",[t._v(t._s(t.name))]),n("p",[t._v("您好，请问需要买保险吗？")]),n("div",{staticClass:"button-list"},[n("button",{on:{mousedown:function(e){return e.stopPropagation(),t.done(1)}}},[t._v("有保险了")]),n("button",{on:{mousedown:function(e){return e.stopPropagation(),t.done(2)}}},[t._v("不需要")]),n("button",{on:{mousedown:function(e){return e.stopPropagation(),t.done(3)}}},[t._v("需要")]),n("button",{on:{mousedown:function(e){return e.stopPropagation(),t.done(4)}}},[t._v("特殊")])])])},jt=[],Dt={props:{name:String},methods:{done:function(t){this.$emit("select-button",t)}}},Ot=Dt,Nt=(n("78bf"),Object(s["a"])(Ot,wt,jt,!1,null,"4a35ee50",null)),Pt=Nt.exports;function Et(t){t.register("connect",(function(t){var e=t.HtmlNode,n=t.HtmlNodeModel,a=function(t){Object(ht["a"])(n,t);var e=Object(bt["a"])(n);function n(){return Object(pt["a"])(this,n),e.apply(this,arguments)}return Object(ft["a"])(n,[{key:"shouldUpdate",value:function(){var t=this.getAttributes(),e=t.properties;return(!this.currrentProperties||this.currrentProperties!==JSON.stringify(e))&&(this.currrentProperties=JSON.stringify(e),!0)}},{key:"setHtml",value:function(t){if(this.shouldUpdate()){var e=this.getAttributes(),n=e.properties,a=document.createElement("div");t.innerHTML="",t.appendChild(a);var i=o["default"].extend({render:function(t){return t(Pt,{props:{name:n.name},on:{"select-button":function(t){console.log("select-button",t)}}})}});(new i).$mount(a)}}}]),n}(e),i=function(t){Object(ht["a"])(n,t);var e=Object(bt["a"])(n);function n(){return Object(pt["a"])(this,n),e.apply(this,arguments)}return Object(ft["a"])(n,[{key:"setAttributes",value:function(){this.text.editable=!1;var t=300,e=150;this.width=t,this.height=e,this.anchorsOffset=[[t/2,0],[0,e/2],[-t/2,0],[0,-e/2]]}}]),n}(n);return{view:a,model:i}}))}var St='<bpmn:definitions id="Definitions_2ridhq5" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" targetNamespace="http://bpmn.io/schema/bpmn" exporter="bpmn-js (https://demo.bpmn.io)" exporterVersion="7.3.0"> <bpmn:process id="Process_0gc60fc" isExecutable="false"> <bpmn:startEvent id="Event_2715eoc" name="开始"> <bpmn:outgoing>Flow_33j4jra</bpmn:outgoing></bpmn:startEvent> <bpmn:userTask id="Activity_06ejpb9" name="12122"> <bpmn:incoming>Flow_33j4jra</bpmn:incoming> <bpmn:outgoing>Flow_0std6pu</bpmn:outgoing></bpmn:userTask> <bpmn:userTask id="Activity_2isko2b" name="77777"> <bpmn:incoming>Flow_0std6pu</bpmn:incoming> <bpmn:outgoing>Flow_081nvcj</bpmn:outgoing></bpmn:userTask> <bpmn:endEvent id="Event_3o35ddb" name="结束"> <bpmn:incoming>Flow_081nvcj</bpmn:incoming></bpmn:endEvent> <bpmn:sequenceFlow id="Flow_33j4jra" sourceRef="Event_2715eoc" targetRef="Activity_06ejpb9"/> <bpmn:sequenceFlow id="Flow_0std6pu" sourceRef="Activity_06ejpb9" targetRef="Activity_2isko2b"/> <bpmn:sequenceFlow id="Flow_081nvcj" sourceRef="Activity_2isko2b" targetRef="Event_3o35ddb"/> </bpmn:process> <bpmndi:BPMNDiagram id="BPMNDiagram_1"> <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_0gc60fc"> <bpmndi:BPMNEdge id="Flow_33j4jra_di" bpmnElement="Flow_33j4jra"> <di:waypoint x="318" y="220"/> <di:waypoint x="374" y="220"/> <di:waypoint x="374" y="240"/> <di:waypoint x="430" y="240"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="Flow_0std6pu_di" bpmnElement="Flow_0std6pu"> <di:waypoint x="530" y="240"/> <di:waypoint x="650" y="240"/> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id="Flow_081nvcj_di" bpmnElement="Flow_081nvcj"> <di:waypoint x="750" y="240"/> <di:waypoint x="842" y="240"/> </bpmndi:BPMNEdge> <bpmndi:BPMNShape id="Event_2715eoc_di" bpmnElement="Event_2715eoc"> <dc:Bounds x="280" y="200" width="40" height="40"/> <bpmndi:BPMNLabel> <dc:Bounds x="290" y="213" width="20" height="14"/></bpmndi:BPMNLabel></bpmndi:BPMNShape> <bpmndi:BPMNShape id="Activity_06ejpb9_di" bpmnElement="Activity_06ejpb9"> <dc:Bounds x="430" y="200" width="100" height="80"/> <bpmndi:BPMNLabel> <dc:Bounds x="455" y="233" width="50" height="14"/></bpmndi:BPMNLabel></bpmndi:BPMNShape> <bpmndi:BPMNShape id="Activity_2isko2b_di" bpmnElement="Activity_2isko2b"> <dc:Bounds x="650" y="200" width="100" height="80"/> <bpmndi:BPMNLabel> <dc:Bounds x="675" y="233" width="50" height="14"/></bpmndi:BPMNLabel></bpmndi:BPMNShape> <bpmndi:BPMNShape id="Event_3o35ddb_di" bpmnElement="Event_3o35ddb"> <dc:Bounds x="840" y="220" width="40" height="40"/> <bpmndi:BPMNLabel> <dc:Bounds x="850" y="233" width="20" height="14"/></bpmndi:BPMNLabel></bpmndi:BPMNShape> </bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>',Ct={name:"LF",components:{NodePanel:$,AddPanel:P,Control:L,PropertyDialog:Q,DataDialog:lt},data:function(){return{lf:null,showAddPanel:!1,addPanelStyle:{top:0,left:0},nodeData:null,addClickNode:null,clickNode:null,dialogVisible:!1,graphData:null,dataVisible:!1,config:{background:{color:"#f7f9ff"},grid:{size:10,visible:!1},keyboard:{enabled:!0},style:{rect:{radius:6},edgeText:{background:{fill:"#fff"}}},edgeTextDraggable:!0,guards:{beforeClone:function(t){return console.log("beforeClone",t),!0},beforeDelete:function(t){return console.log("beforeDelete",t),!0}}},moveData:{},nodeList:st}},mounted:function(){this.$_initLf()},methods:{$_initLf:function(){m.a.use(g["b"]),m.a.use(g["c"]),m.a.use(g["a"]);var t=new m.a(Object(h["a"])(Object(h["a"])({},this.config),{},{container:document.querySelector("#LF-view")}));this.lf=t,t.setMenuConfig({nodeMenu:[],edgeMenu:[]}),t.addMenuConfig({nodeMenu:[{text:"分享",callback:function(){alert("分享成功！")}},{text:"属性",callback:function(t){alert("\n                节点id：".concat(t.id,"\n                节点类型：").concat(t.type,"\n                节点坐标：(x: ").concat(t.x,", y: ").concat(t.y,")"))}}],edgeMenu:[{text:"属性",callback:function(t){alert("\n                边id：".concat(t.id,"\n                边类型：").concat(t.type,"\n                边坐标：(x: ").concat(t.x,", y: ").concat(t.y,")\n                源节点id：").concat(t.sourceNodeId,"\n                目标节点id：").concat(t.targetNodeId))}}]}),t.setTheme({circle:{r:20,stroke:"#000000",outlineColor:"#88f",strokeWidth:1},rect:{outlineColor:"#88f",strokeWidth:1},polygon:{strokeWidth:1},polyline:{stroke:"#000000",hoverStroke:"#000000",selectedStroke:"#000000",outlineColor:"#88f",strokeWidth:1},nodeText:{color:"#000000"},edgeText:{color:"#000000",background:{fill:"#f7f9ff"}}}),this.$_registerNode()},$_registerNode:function(){mt(this.lf),gt(this.lf),vt(this.lf),yt(this.lf,this.clickPlus,this.mouseDownPlus),_t(this.lf),kt(this.lf),$t(this.lf),Et(this.lf),this.$_render()},$_render:function(){this.lf.render(St),this.$_LfEvent()},$_getData:function(){var t=this.lf.getGraphData();console.log(JSON.stringify(t))},$_LfEvent:function(){var t=this;this.lf.on("node:click",(function(e){var n=e.data;console.log("node:click",n),t.$data.clickNode=n,t.$data.dialogVisible=!0})),this.lf.on("edge:click",(function(e){var n=e.data;console.log("edge:click",n),t.$data.clickNode=n,t.$data.dialogVisible=!0})),this.lf.on("element:click",(function(){t.hideAddPanel()})),this.lf.on("edge:add",(function(t){var e=t.data;console.log("edge:add",e)})),this.lf.on("node:mousemove",(function(e){var n=e.data;console.log("node:mousemove"),t.moveData=n})),this.lf.on("blank:click",(function(){t.hideAddPanel()})),this.lf.on("connection:not-allowed",(function(e){t.$message({type:"error",message:e.msg})})),this.lf.on("node:mousemove",(function(){console.log("on mousemove")}))},clickPlus:function(t,e){t.stopPropagation(),console.log("clickPlus",t,e);var n=t.clientX,o=t.clientY;console.log(n,o),this.$data.addPanelStyle.top=o-40+"px",this.$data.addPanelStyle.left=n+"px",this.$data.showAddPanel=!0,this.$data.addClickNode=e},mouseDownPlus:function(t,e){t.stopPropagation(),console.log("mouseDownPlus",t,e)},hideAddPanel:function(){this.$data.showAddPanel=!1,this.$data.addPanelStyle.top=0,this.$data.addPanelStyle.left=0,this.$data.addClickNode=null},closeDialog:function(){this.$data.dialogVisible=!1},$_catData:function(){this.$data.graphData=this.$data.lf.getGraphData(),console.log(this.$data.lf,"this.$data.lf"),console.log(this.$data.graphData,"this.$data.graphData"),this.$data.dataVisible=!0},goto:function(){this.$router.push("/TurboAdpter")}}},Mt=Ct,Tt=(n("2f6f"),Object(s["a"])(Mt,p,f,!1,null,null,null)),Lt=Tt.exports,At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logic-flow-view"},[t.lf?n("Control",{staticClass:"demo-control",attrs:{lf:t.lf,catTurboData:!0},on:{catData:t.$_catData,catTurboData:t.$_catTurboData}}):t._e(),n("NodePanel",{attrs:{lf:t.lf,nodeList:t.nodeList}}),n("div",{attrs:{id:"LF-Turbo"}}),n("el-dialog",{attrs:{title:"数据",visible:t.dataVisible,width:"50%"},on:{"update:visible":function(e){t.dataVisible=e}}},[n("DataDialog",{attrs:{graphData:t.graphData}})],1),t.nodeInfo?n("div",{key:t.nodeKey,staticStyle:{margin:"20px"}},[t._v("节点属性"+t._s(t.$data.clickNode))]):t._e()],1)},It=[],Bt=(n("159b"),n("4ec9"),n("b64b"),n("d3b7"),n("3ca3"),n("ddb0"),{SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6});function Ft(t){switch(t){case"bpmn:sequenceFlow":return Bt.SEQUENCE_FLOW;case"bpmn:startEvent":return Bt.START_EVENT;case"bpmn:endEvent":return Bt.END_EVENT;case"bpmn:userTask":return Bt.USER_TASK;case"bpmn:serviceTask":return Bt.SERVICE_TASK;case"bpmn:exclusiveGateway":return Bt.EXCLUSIVE_GATEWAY;default:return t}}function zt(t){var e=t.id,n=t.type,o=t.x,a=t.y,i=t.text,r=void 0===i?"":i,l=t.properties,s=t.outgoing;return{incoming:[],outgoing:s,dockers:[],type:Ft(n),stencil:{id:Ft(n)},properties:Object(h["a"])(Object(h["a"])({},l),{},{name:r&&r.value||"",x:o,y:a}),resourceId:e}}function Vt(t){var e=t.id,n=t.type,o=t.sourceNodeId,a=t.targetNodeId,i=t.startPoint,r=t.endPoint,l=t.pointsList,s=t.text,c=void 0===s?"":s,d=t.properties;return{incoming:[o],outgoing:[a],type:Ft(n),stencil:{id:Ft(n)},dockers:[],properties:Object(h["a"])(Object(h["a"])({},d),{},{name:c&&c.value||"",startPoint:i,endPoint:r,pointsList:l}),resourceId:e}}function Wt(t){var e=new Map,n={childShapes:[]};return t.nodes&&t.nodes.forEach((function(t){var o=zt(t);n.childShapes.push(o),e.set(t.id,o)})),t.edges&&t.edges.forEach((function(t){var o=Vt(t),a=e.get(t.sourceNodeId);a.outgoing.push(o.key);var i=e.get(t.targetNodeId);i.incoming.push(o.key),n.childShapes.push(o)})),n}function Rt(t){var e=t.incoming,n=t.outgoing,o=t.properties,a=t.key,i=o.text,r=o.startPoint,l=o.endPoint,s=o.pointsList,c=o.logicFlowType,d={id:a,type:c,sourceNodeId:e[0],targetNodeId:n[0],text:i,startPoint:r,endPoint:l,pointsList:s,properties:{}},u=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(t.properties).forEach((function(e){-1===u.indexOf(e)&&(d.properties[e]=t.properties[e])})),d}function Ht(t){var e=t.properties,n=t.key,o=e.x,a=e.y,i=e.text,r=e.logicFlowType,l={id:n,type:r,x:o,y:a,text:i,properties:{}},s=["x","y","text","logicFlowType"];return Object.keys(t.properties).forEach((function(e){-1===s.indexOf(e)&&(l.properties[e]=t.properties[e])})),l}function Ut(t){var e={nodes:[],edges:[]},n=t.flowElementList;return n&&n.length>0&&n.forEach((function(t){if(t.type===Bt.SEQUENCE_FLOW){var n=Rt(t);e.edges.push(n)}else{var o=Ht(t);e.nodes.push(o)}})),e}var Gt=n("b150"),qt={name:"LF",components:{NodePanel:$,Control:L,DataDialog:lt},data:function(){return{lf:null,dialogVisible:!1,graphData:null,dataVisible:!1,config:{background:{color:"#f7f9ff"},grid:{size:10,visible:!1},keyboard:{enabled:!0},style:{rect:{radius:6},edgeText:{background:{fill:"#fff"}}},edgeTextDraggable:!0,guards:{beforeClone:function(t){return console.log("beforeClone",t),!0},beforeDelete:function(t){return console.log("beforeDelete1111",t),!0}}},nodeList:ct,nodeInfo:!1,nodeKey:0}},mounted:function(){this.$_initLf()},methods:{$_initLf:function(){m.a.use(g["c"]),m.a.use(g["a"]);var t=new m.a(Object(h["a"])(Object(h["a"])({},this.config),{},{container:document.querySelector("#LF-Turbo")}));this.lf=t,t.setTheme({circle:{r:20,stroke:"#000000",outlineColor:"#88f",strokeWidth:1},rect:{outlineColor:"#88f",strokeWidth:1},polygon:{strokeWidth:1},polyline:{stroke:"#000000",hoverStroke:"#000000",selectedStroke:"#000000",outlineColor:"#88f",strokeWidth:1},nodeText:{color:"#000000"},edgeText:{color:"#000000",background:{fill:"#f7f9ff"}}}),t.setDefaultEdgeType("bpmn:sequenceFlow"),this.$_render()},$_LfEvent:function(){var t=this;this.lf.on("node:click",(function(e){var n=e.data;console.log("node:click",n),n.properties={ceshi:"这里是属性"},t.lf.setNodeData(n),t.$data.clickNode=n,t.nodeInfo=!0,t.nodeKey+=1})),this.lf.on("edge:click",(function(e){var n=e.data;console.log("edge:click",n),n.properties={ceshi:"这里是属性"},t.lf.setEdgeData(n),t.$data.clickNode=n,t.nodeInfo=!0,t.nodeKey+=1})),this.lf.on("blank:click",(function(){t.nodeInfo=!1}))},$_render:function(){var t=Ut(Gt);this.lf.render(t),this.$_LfEvent()},closeDialog:function(){this.$data.dialogVisible=!1},$_catData:function(){this.$data.graphData=this.$data.lf.getGraphData(),this.$data.dataVisible=!0},$_catTurboData:function(){var t=this.$data.lf.getGraphData();t.nodes=t.nodes.map((function(e){var n=[];return t.edges.forEach((function(t){e.id===t.sourceNodeId&&n.push(t.targetNodeId)})),e.outgoing=n,e})),console.log(t,"graphData--"),this.$data.graphData=Wt(t),this.$data.dataVisible=!0},goto:function(){this.$router.push("/")}}},Kt=qt,Jt=(n("4547"),Object(s["a"])(Kt,At,It,!1,null,null,null)),Zt=Jt.exports,Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" 测试 "),n("el-button",{on:{click:t.goto}},[t._v("流程")])],1)},Yt=[],Qt={name:"Test",data:function(){return{}},methods:{goto:function(){this.$router.push("/")}}},te=Qt,ee=Object(s["a"])(te,Xt,Yt,!1,null,"6b87ba3f",null),ne=ee.exports;o["default"].use(u["a"]);var oe=new u["a"]({routes:[{path:"/LF",name:"LF",component:Lt},{path:"/test",name:"Test",component:ne},{path:"/",name:"TurboAdpter",component:Zt}]}),ae=n("5c96"),ie=n.n(ae);n("0fae");o["default"].use(ie.a),o["default"].config.productionTip=!1,new o["default"]({router:oe,render:function(t){return t(d)}}).$mount("#app")},6957:function(t,e,n){"use strict";n("ffc1")},"78bf":function(t,e,n){"use strict";n("954b")},"8d09":function(t,e,n){},"954b":function(t,e,n){},b150:function(t){t.exports=JSON.parse('{"flowElementList":[]}')},d6d6:function(t,e,n){},d924:function(t,e,n){},e130:function(t,e,n){"use strict";n("d6d6")},ffc1:function(t,e,n){}});
//# sourceMappingURL=app.bde9370a.js.map